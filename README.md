# Money Transfer Service

REST API –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ –¥–µ–Ω–µ–≥ —Å –∫–∞—Ä—Ç—ã –Ω–∞ –∫–∞—Ä—Ç—É.

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

- –ü–µ—Ä–µ–≤–æ–¥ –¥–µ–Ω–µ–≥ –º–µ–∂–¥—É –±–∞–Ω–∫–æ–≤—Å–∫–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∫–∞—Ä—Ç
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π –≤ —Ñ–∞–π–ª
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ CORS –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

## –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
./gradlew bootRun
```
## Docker –∑–∞–ø—É—Å–∫
### –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose:
```bash
docker-compose up
```
## –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –æ–±—Ä–∞–∑–∞

```bash
docker build -t money-transfer .
docker run -p 5500:5500 money-transfer
```
## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã (Mockito)
- `TransferControllerTest` - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ REST –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞
- `TransferServiceTest` - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –ø–µ—Ä–µ–≤–æ–¥–∞
- `LoggingServiceTest` - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã Spring Boot
- `TransferIntegrationTest` - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ —Å—Ç–µ–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã Testcontainers
- `DockerContainerTest` - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏

**–ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤:**
```bash
./gradlew test
```
## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å FRONT
### API –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –Ω–∞ –ø–æ—Ä—Ç 5500 –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å FRONT –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:
https://github.com/serp-ya/card-transfer

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API —á–µ—Ä–µ–∑ Postman:
```bash
POST http://localhost:5500/api/transfer
Content-Type: application/json

{
"cardFromNumber": "1234567812345678",
"cardFromValidTill": "12/25",
"cardFromCVV": "123",
"cardToNumber": "8765432187654321",
"amount": {
"value": 10000,
"currency": "RUB"
}
}
```
## API Endpoints

### POST /api/transfer
–í—ã–ø–æ–ª–Ω—è–µ—Ç –ø–µ—Ä–µ–≤–æ–¥ –¥–µ–Ω–µ–≥ –º–µ–∂–¥—É –∫–∞—Ä—Ç–∞–º–∏.

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:
```
{
  "cardFromNumber": "1234567812345678",
  "cardFromValidTill": "12/25",
  "cardFromCVV": "123",
  "cardToNumber": "8765432187654321",
  "amount": {
    "value": 10000,
    "currency": "RUB"
  }
}
```
–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
```
{
"operationId": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
"code": "0000",
"message": "Success"
}
```
### GET /api/health
–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–∞.
## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- Java 17
- Spring Boot 4.0.0
- Gradle
- Docker
## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    REST API    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    File System    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   FRONT     ‚îÇ ‚Üê‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚Üí  ‚îÇ REST SERVICE ‚îÇ ‚Üê‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚Üí  ‚îÇ  LOG FILE   ‚îÇ
‚îÇ  (React)    ‚îÇ                ‚îÇ (Spring Boot)‚îÇ                  ‚îÇ             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## –§–æ—Ä–º–∞—Ç —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

### –î–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç:
–ö–∞—Ä—Ç—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –≤ –≤–∏–¥–µ DTO –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏:
- **–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã**: 16 —Ü–∏—Ñ—Ä, —Å—Ç—Ä–æ–∫–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç
- **–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è**: MM/YY, –≤–∞–ª–∏–¥–∞—Ü–∏—è –º–µ—Å—è—Ü–∞/–≥–æ–¥–∞
- **CVV**: 3 —Ü–∏—Ñ—Ä—ã, —Å—Ç—Ä–æ–∫–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç
- **–°—É–º–º–∞**: –≤ –∫–æ–ø–µ–π–∫–∞—Ö, —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ (10000 = 100.00 ‚ÇΩ)
- **–í–∞–ª—é—Ç–∞**: RUB (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è)

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π:
–û–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ —Ñ–∞–π–ª `transfer.log` –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
```
–ì–ì–ì–ì-–ú–ú-–î–î –ß–ß:–ú–ú:–°–° | From: –ù–û–ú–ï–†_–ö–ê–†–¢–´ | To: –ù–û–ú–ï–†_–ö–ê–†–¢–´ | Amount: –°–£–ú–ú–ê –í–ê–õ–Æ–¢–ê | Result: –†–ï–ó–£–õ–¨–¢–ê–¢ | OperationID: UUID
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `application.yaml`:
- –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞: 5500
- –ò–º—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: money-transfer-service
- –§–∞–π–ª –ª–æ–≥–æ–≤: transfer.log